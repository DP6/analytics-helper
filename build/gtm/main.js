;(function () {
  var options = {
    helperName: 'analyticsHelper',
    dataLayerName: 'dataLayer',
    debug: ({{Container ID}} || ''),
    waitQueue: true,
    sentPageview: false,
    eventQueue: [],
    containerID: ({{Container ID}} || ''),
    exceptionEvent: 'gtm_dataQuality_event',
    exceptionCategory: 'GTM Exception',
    customNamePageview: 'ga_pageview',
    customNameEvent: 'ga_event',
    errorSampleRate: 1
  };
  
  var fn = {};
  
  var log = {
    info: function (info) {
      if (options.debug) {
        console.info('INFO: ', info);
      }
    }
  };
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date();
    window.dataLayer=window.dataLayer || [];
    

  function closest(e,t){if("closest"in e)return e.closest("seletor");if("function"==typeof jQuery)return jQuery(e).closest(t)[0];for(var n=e.parentNode;n!=document;){if(matches(n,t))return n;n=n.parentNode}}function getCookie(e){e="; "+e+"=";var t,n="; "+document.cookie,o=n.indexOf(e);return-1===o?"":(n=n.substring(o+e.length),t=n.indexOf(";"),window.unescape(-1===t?n:n.substring(0,t)))}function setCookie(e,t,n){var o,r;return n=n||{},r=e+"="+window.escape(t),n.exdays&&((o=new Date).setDate(o.getDate()+n.exdays),r+="; expires="+o.toUTCString()),n.domain&&(r+="; domain="+n.domain),r+="; path="+(n.path||"/"),document.cookie=r}function cookie(e,t,n){return void 0===t?getCookie(e):setCookie(e,t,n)}function delegate(e,t,n,o,r){function i(r){for(var i=r.target;i&&i!=this;i=i.parentNode)if(matches(i,n)){safeFn(e,o,{event:t,selector:n,immediate:!1}).call(i,r);break}}if("function"==typeof jQuery){var a=jQuery(r||document),i=safeFn(e,o,{event:t,selector:n,immediate:!1});if("function"==typeof a.on)return a.on(t,n,i);if("function"==typeof a.delegate)return a.delegate(n,t,i)}var s;if("string"==typeof r&&(r=document.querySelectorAll(r)),"function"==typeof document.addEventListener?s="addEventListener":(s="attachEvent",t="on"+t),"[object NodeList]"===Object.prototype.toString.call(r))for(var c=0;c<=r.length-1;c++)(r[c]||document)[s](t,i,!1);else(r||document)[s](t,i,!1)}function getKey(e,t){if(e&&"string"==typeof e){for(var n=t||window,o=e.split("."),r=0;r<o.length&&null!=n;r++){if(!n.hasOwnProperty(o[r]))return;n=n[o[r]]}return n}}function hasClass(e,t){return"classList"in e?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function init(e){window[options.helperName]=void 0,options=merge(options,e),window[options.helperName]=window[options.helperName]||{},window[options.helperName].options=options,expose()}function match(e,t){if("function"==typeof jQuery)return jQuery(e).is(t);for(var n=e.parentNode.querySelectorAll(t),o=0;o<n.length;o++)if(n[o]===e)return!0;return!1}function closest(e,t){if("function"==typeof jQuery)return jQuery(e).closest(t)[0];for(var n=e.parentNode;n!=document;){if(this.match(n,t))return n;n=n.parentNode}}function matches(e,t){if("matches"in e)return e.matches(t);if("function"==typeof jQuery)return jQuery(e).is(t);for(var n=e.parentNode.querySelectorAll(t),o=0;o<n.length;o++)if(n[o]===e)return!0;return!1}function has(e,t){return hasOwnProperty.call(e,t)}function merge(e,t){if(t)for(var n in t)has(t,n)&&(e[n]=t[n]);return e}function on(e,t,n,o,r){if(r)delegate(e,t,n,o,r);else{var i,a;if("function"==typeof jQuery){if(i=window.jQuery(n),a=safeFn(e,o,{isLocal:!0,event:t,selector:n,immediate:!1,elm:i}),"function"==typeof i.on)return i.on(t,a);if("function"==typeof i.bind)return i.bind(t,a)}var s;s="string"==typeof n?document.querySelectorAll(n):void 0===n.length||n===window?[n]:n;for(var c=0;c<s.length;c++)a=safeFn(e,o,{isLocal:!0,event:t,selector:n,immediate:!1,elm:i=s[c]}),"function"==typeof i.addEventListener?i.addEventListener(t,a):i.attachEvent("on"+t,a)}}function push(e,t){var n={object:e,tag:t};options.debug&&log.info(n),window[options.dataLayerName].push(e)}function sanitize(e,t){var n,o;if(!e)return"";if(e=e.toLowerCase().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g,"_").replace(/[áàâãåäæª]/g,"a").replace(/[éèêëЄ€]/g,"e").replace(/[íìîï]/g,"i").replace(/[óòôõöøº]/g,"o").replace(/[úùûü]/g,"u").replace(/[ç¢©]/g,"c").replace(/[^a-z0-9_\-]/g,"_"),t){for(n=e.split(/_+/g),o=0;o<n.length;o++)n[o]&&(n[o]=n[o][0].toUpperCase()+n[o].slice(1));return n.join("")}return e.replace(/_+/g,"_")}function text(e,t){var n="";if(t&&t.onlyFirst)for(var o=e.childNodes,r=0;r<o.length;r++)3===o[r].nodeType&&(n+=o[r].nodeValue);else n=e.textContent||e.innerText||e.innerHTML.replace(/<[^>]+>/g,"");return t&&t.sanitize?sanitize(n):n}function event(e,t,n,o,r,i){try{if(!1===options.sentPageview&&options.waitQueue)return options.eventQueue.push(arguments);(r=r||{}).eventNoInteraction=r.eventNoInteraction||!1;var a={category:e,action:t,label:n,object:r};i&&(a.tag=i),log.info(a),window[options.dataLayerName].push(merge({event:options.customNameEvent,eventCategory:e,eventAction:t,eventValue:o,eventLabel:n},r))}catch(e){log.info(e)}}function getDataLayer(e){return window.google_tag_manager[options.containerID].dataLayer.get(e)}function internalMap(e,t,n){for(var o=[],r=0;r<e.length;r++){var i=[e[r]].concat(n);o.push(t.apply(this,i))}return o}function localHelperFactory(e,t){return{event:function(t,n,o,r,i){return event(t,n,o,r,i,e)},pageview:function(t,n){return pageview(t,n,e)},safeFn:function(e,t,n){return safeFn(e,t,n)},on:function(t,n,o,r){return on(e,t,n,o,r)},wrap:function(e,t,n){if("string"==typeof e&&(e=document.querySelectorAll(e)),t&&"function"==typeof t)return internalMap(e,t,n);if("object"==typeof e&&(e instanceof HTMLElement||e instanceof NodeList))return{hasClass:function(t){return e instanceof NodeList?internalMap(e,hasClass,[t]):hasClass(e,t)},matches:function(t){return e instanceof NodeList?internalMap(e,matches,[t]):matches(e,t)},closest:function(t){return e instanceof NodeList?internalMap(e,closest,[t]):closest(e,t)},text:function(t){return e instanceof NodeList?internalMap(e,text,[t]):text(e,t)},map:function(t,n){return internalMap(e,t,n)},nodes:e};if(e)throw"Esperado receber seletor, elmento HTML ou NodeList";return null},push:function(t){return push(t,e)},sanitize:sanitize,getDataLayer:getDataLayer,cookie:cookie,getKey:getKey,id:e,args:t,fn:fn}}function pageview(e,t,n){try{var o={path:e,object:t};n&&(o.tag=n),log.info(o),window[options.dataLayerName].push(merge({event:options.customNamePageview,path:e},t))}catch(e){log.info(e)}}function safeFn(e,t,n){var o=function(){try{t.call(this===window?null:this,localHelperFactory(e,arguments,{id:e,event:n.event||void 0,selector:n.selector||void 0}))}catch(t){if(options.debug){var o={exception:t,tag:e,event:n.event||void 0,selector:n.selector||void 0};console.warn("Exception: ",o)}else Math.random()<=options.errorSampleRate&&window[options.dataLayerName].push({event:options.exceptionEvent,dataQuality:{category:options.exceptionCategory,action:e,label:String(t),event:n.event||void 0,selector:n.selector||void 0}})}};return!1===(n=n||{}).immediate?o:o()}helper.match=match;

  function expose(){window[options.helperName]={init:init,pageview:pageview,event:event,sanitize:sanitize,getDataLayer:getDataLayer,cookie:cookie,getKey:getKey,safeFn:safeFn,fn:fn,options:options}}expose();
}());